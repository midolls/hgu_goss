v {xschem version=3.4.0 file_version=1.2
}
G {}
K {}
V {}
S {}
E {}
N 300 -660 300 -600 {
lab=tah_vp}
N 330 -660 330 -600 {
lab=tah_vp}
N 360 -660 360 -600 {
lab=tah_vp}
N 390 -660 390 -600 {
lab=tah_vp}
N 420 -660 420 -600 {
lab=tah_vp}
N 450 -660 450 -600 {
lab=tah_vp}
N 480 -660 480 -600 {
lab=tah_vp}
N 510 -660 510 -600 {
lab=tah_vp}
N 640 -660 640 -600 {
lab=tah_vp}
N 670 -660 670 -600 {
lab=tah_vp}
N 700 -660 700 -600 {
lab=tah_vp}
N 730 -660 730 -600 {
lab=tah_vp}
N 760 -660 760 -600 {
lab=tah_vp}
N 790 -660 790 -600 {
lab=tah_vp}
N 820 -660 820 -600 {
lab=tah_vp}
N 850 -660 850 -600 {
lab=tah_vp}
N 300 -500 300 -440 {
lab=tah_vn}
N 330 -500 330 -440 {
lab=tah_vn}
N 360 -500 360 -440 {
lab=tah_vn}
N 390 -500 390 -440 {
lab=tah_vn}
N 420 -500 420 -440 {
lab=tah_vn}
N 450 -500 450 -440 {
lab=tah_vn}
N 480 -500 480 -440 {
lab=tah_vn}
N 510 -500 510 -440 {
lab=tah_vn}
N 640 -500 640 -440 {
lab=tah_vn}
N 670 -500 670 -440 {
lab=tah_vn}
N 700 -500 700 -440 {
lab=tah_vn}
N 730 -500 730 -440 {
lab=tah_vn}
N 760 -500 760 -440 {
lab=tah_vn}
N 790 -500 790 -440 {
lab=tah_vn}
N 820 -500 820 -440 {
lab=tah_vn}
N 850 -500 850 -440 {
lab=tah_vn}
N 150 -600 850 -600 {
lab=tah_vp}
N 150 -500 850 -500 {
lab=tah_vn}
N 850 -600 980 -600 {
lab=tah_vp}
N 850 -500 980 -500 {
lab=tah_vn}
N 300 -990 300 -900 {
lab=up6}
N 330 -990 330 -900 {
lab=up5}
N 360 -990 360 -900 {
lab=up4}
N 390 -990 390 -900 {
lab=up3}
N 420 -990 420 -900 {
lab=up2}
N 450 -990 450 -900 {
lab=up1}
N 480 -990 480 -900 {
lab=up0}
N 670 -990 670 -900 {
lab=dn0}
N 700 -990 700 -900 {
lab=dn1}
N 730 -990 730 -900 {
lab=dn2}
N 760 -990 760 -900 {
lab=dn3}
N 790 -990 790 -900 {
lab=dn4}
N 820 -990 820 -900 {
lab=dn5}
N 850 -990 850 -900 {
lab=dn6}
N 480 -200 480 -110 {
lab=upb0}
N 450 -200 450 -110 {
lab=upb1}
N 420 -200 420 -110 {
lab=upb2}
N 390 -200 390 -110 {
lab=upb3}
N 360 -200 360 -110 {
lab=upb4}
N 330 -200 330 -110 {
lab=upb5}
N 300 -200 300 -110 {
lab=upb6}
N 850 -200 850 -110 {
lab=dnb6}
N 820 -200 820 -110 {
lab=dnb5}
N 790 -200 790 -110 {
lab=dnb4}
N 760 -200 760 -110 {
lab=dnb3}
N 730 -200 730 -110 {
lab=dnb2}
N 700 -200 700 -110 {
lab=dnb1}
N 670 -200 670 -110 {
lab=dnb0}
N 560 -920 560 -900 {
lab=VREF}
N 590 -920 590 -900 {
lab=VSS}
N -300 -570 -180 -570 {
lab=vip}
N -300 -570 -300 -510 {
lab=vip}
N -70 -650 -70 -630 {
lab=sw_n}
N -140 -630 -110 -630 {
lab=sw}
N -140 -700 -140 -630 {
lab=sw}
N 40 -580 120 -580 {
lab=tah_vp}
N 40 -520 80 -520 {
lab=tah_vn}
N -250 -530 -180 -530 {
lab=vin}
N -250 -530 -250 -500 {
lab=vin}
N -580 -900 -580 -870 {
lab=VDD}
N -300 -510 -300 -470 {
lab=vip}
N -250 -500 -250 -470 {
lab=vin}
N 120 -580 130 -580 {
lab=tah_vp}
N 130 -600 130 -580 {
lab=tah_vp}
N 130 -600 150 -600 {
lab=tah_vp}
N 80 -520 130 -520 {
lab=tah_vn}
N 130 -520 130 -500 {
lab=tah_vn}
N 130 -500 150 -500 {
lab=tah_vn}
N 330 -1180 330 -1170 {
lab=#net1}
N 360 -1180 360 -1170 {
lab=#net2}
N 390 -1180 390 -1170 {
lab=#net3}
N 420 -1180 420 -1170 {
lab=#net4}
N 450 -1190 450 -1170 {
lab=up1}
N 480 -1200 480 -1170 {
lab=up0}
N 700 -1180 700 -1170 {
lab=dn1}
N 330 70 330 80 {
lab=#net5}
N 360 70 360 80 {
lab=#net6}
N 390 70 390 80 {
lab=#net7}
N 420 110 420 120 {
lab=#net8}
N 450 110 450 130 {
lab=upb1}
N 480 70 480 100 {
lab=upb0}
N 730 -1180 730 -1170 {
lab=#net9}
N 760 -1190 760 -1170 {
lab=#net10}
N 790 -1200 790 -1170 {
lab=#net11}
N 820 -1210 820 -1170 {
lab=#net12}
N 850 -1220 850 -1170 {
lab=#net13}
N 700 70 700 80 {
lab=dnb1}
N 730 70 730 80 {
lab=#net14}
N 760 70 760 90 {
lab=#net15}
N 790 70 790 100 {
lab=#net16}
N 820 70 820 110 {
lab=#net17}
N 850 70 850 120 {
lab=#net18}
N 560 -200 560 -180 {
lab=VREF}
N 590 -200 590 -180 {
lab=VSS}
N 620 -920 620 -900 {
lab=VDD}
N 620 -200 620 -180 {
lab=VDD}
N 450 -1170 450 -990 {
lab=up1}
N 480 -1170 480 -990 {
lab=up0}
N 670 -1170 670 -990 {
lab=dn0}
N 700 -1170 700 -990 {
lab=dn1}
N 670 -110 670 70 {
lab=dnb0}
N 700 -110 700 70 {
lab=dnb1}
N 450 -110 450 70 {
lab=upb1}
N 480 -110 480 70 {
lab=upb0}
N 330 -1200 330 -1180 {
lab=#net1}
N 360 -1230 360 -1180 {
lab=#net2}
N 390 -1260 390 -1180 {
lab=#net3}
N 420 -1290 420 -1180 {
lab=#net4}
N 450 -1320 450 -1190 {
lab=up1}
N 480 -1350 480 -1200 {
lab=up0}
N 360 80 360 100 {
lab=#net6}
N 390 80 390 110 {
lab=#net7}
N 420 70 420 110 {
lab=#net8}
N 450 70 450 110 {
lab=upb1}
N 480 100 480 140 {
lab=upb0}
C {../xschem/hgu_cdac_half.sym} -250 -540 0 0 {name=x1
symname=hgu_cdac_half}
C {../xschem/hgu_cdac_half.sym} -250 -560 2 1 {name=x2}
C {devices/vsource.sym} 300 -1200 2 0 {name=V1 value="PULSE(0 1.8 42.5n 1p 1p 157.5n 200n)"
}
C {devices/vsource.sym} 330 -1230 2 0 {name=V2 value="PULSE(0 1.8 65n 1p 1p 135n 200n)"}
C {devices/lab_wire.sym} 590 -195 2 1 {name=p4 sig_type=std_logic lab=VSS}
C {devices/capa.sym} 980 -570 0 0 {name=C1
m=1
value=5f
footprint=1206
device="ceramic capacitor"}
C {devices/capa.sym} 980 -470 0 0 {name=C2
m=1
value=5f
footprint=1206
device="ceramic capacitor"}
C {devices/gnd.sym} 980 -540 0 0 {name=l3 lab=GND}
C {devices/gnd.sym} 980 -440 0 0 {name=l4 lab=GND}
C {devices/code.sym} -165 -910 0 0 {name=s1 only_toplevel=false value="
.save all 
.temp = 25
.tran 100p 200n
.OPTIONS savecurrents

.include /foss/pdks/sky130A/libs.ref/sky130_fd_sc_hd/spice/sky130_fd_sc_hd.spice
.include /foss/designs/hgu_goss/hgu/mag/hgu_cdac_unit.spice
.include /foss/designs/hgu_goss/hgu/spice/hgu_cdac_half_flat.mag.spice


.control
	run
        plot v(up6)+56 v(up5)+54 v(up4)+52 v(up3)+50 v(up2)+48 v(up1)+46 v(up0)+44 v(dn6)+42 v(dn5)+40 v(dn4)+38 v(dn3)+36 v(dn2)+34 v(dn1)+32 v(dn0)+30 v(upb6)+28 v(upb5)+26 v(upb4)+24 v(upb3)+22 v(upb2)+20 v(upb1)+18 v(upb0)+16 v(dnb6)+14 v(dnb5)+12 v(dnb4)+10 v(dnb3)+8 v(dnb2)+6 v(dnb1)+4 v(dnb0)+2
	plot v(sw) v(tah_vp)-v(tah_vn) vip vin
	 
.endc
"
}
C {sky130_fd_pr/corner.sym} -295 -910 0 0 {name=CORNER only_toplevel=false corner=tt}
C {devices/vsource.sym} -400 -840 0 0 {name=V11 value=0.9}
C {devices/gnd.sym} -400 -810 0 0 {name=l17 lab=GND}
C {devices/vsource.sym} -480 -840 0 0 {name=V12 value=0}
C {devices/gnd.sym} -480 -810 0 0 {name=l18 lab=GND}
C {devices/lab_pin.sym} -480 -870 0 0 {name=p15 sig_type=std_logic lab=VSS}
C {devices/lab_pin.sym} -400 -870 0 0 {name=p9 sig_type=std_logic lab=VREF}
C {../xschem/hgu_tah.sym} -110 -550 0 0 {name=x21}
C {devices/vsource.sym} -140 -730 2 0 {name=V13 value="0 pulse(0 1.8 0 1p 1p 20n 200n)"
}
C {devices/vsource.sym} -70 -680 2 1 {name=V14 value="0 pulse(1.8 0 0 1p 1p 20n 200n)"
}
C {devices/gnd.sym} -140 -760 2 0 {name=l20 lab=GND}
C {devices/gnd.sym} -70 -710 2 0 {name=l21 lab=GND}
C {devices/lab_wire.sym} -140 -640 0 0 {name=p10 sig_type=std_logic lab=sw
}
C {devices/lab_wire.sym} -70 -640 0 0 {name=p28 sig_type=std_logic lab=sw_n

}
C {devices/lab_wire.sym} -190 -570 0 0 {name=p29 sig_type=std_logic lab=vip

}
C {devices/lab_wire.sym} 110 -520 0 0 {name=p30 sig_type=std_logic lab=tah_vn
}
C {devices/lab_wire.sym} 110 -580 0 0 {name=p31 sig_type=std_logic lab=tah_vp
}
C {devices/lab_wire.sym} -190 -530 0 0 {name=p32 sig_type=std_logic lab=vin

}
C {devices/gnd.sym} -40 -470 0 0 {name=l25 lab=GND}
C {devices/vdd.sym} -40 -630 0 0 {name=l26 lab=VDD}
C {devices/vsource.sym} -580 -840 0 0 {name=V17 value=1.8
}
C {devices/gnd.sym} -580 -810 0 0 {name=l27 lab=GND}
C {devices/vdd.sym} -580 -900 0 0 {name=l28 lab=VDD}
C {devices/lab_wire.sym} 560 -920 0 0 {name=p1 sig_type=std_logic lab=VREF}
C {devices/lab_wire.sym} 560 -195 2 1 {name=p3 sig_type=std_logic lab=VREF}
C {devices/vsource.sym} 360 -1260 2 0 {name=V3 value="PULSE(0 1.8 87.5n 1p 1p 112.5n 200n)"}
C {devices/vsource.sym} 390 -1290 2 0 {name=V4 value="PULSE(0 1.8 110n 1p 1p 90n 200n)"}
C {devices/vsource.sym} 420 -1320 2 0 {name=V7 value="PULSE(0 1.8 132.5n 1p 1p 67.5n 200n)"}
C {devices/vsource.sym} 450 -1350 2 0 {name=V8 value="PULSE(0 1.8 155n 1p 1p 45n 200n)"}
C {devices/vsource.sym} 480 -1380 2 0 {name=V9 value="PULSE(0 1.8 177.5n 1p 1p 22.5n 200n)"}
C {devices/vsource.sym} 850 -1250 2 0 {name=V10 value=1.8}
C {devices/vsource.sym} 820 -1240 2 0 {name=V15 value=1.8}
C {devices/vsource.sym} 790 -1230 2 0 {name=V16 value=1.8}
C {devices/vsource.sym} 760 -1220 2 0 {name=V18 value=1.8}
C {devices/vsource.sym} 730 -1210 2 0 {name=V19 value=1.8}
C {devices/vsource.sym} 700 -1210 2 0 {name=V20 value=1.8}
C {devices/vsource.sym} 670 -1200 2 0 {name=V21 value=1.8}
C {devices/lab_wire.sym} 590 -920 0 0 {name=p7 sig_type=std_logic lab=VSS}
C {devices/lab_pin.sym} 300 -1230 0 0 {name=p8 sig_type=std_logic lab=VSS}
C {devices/lab_pin.sym} 330 -1260 0 0 {name=p11 sig_type=std_logic lab=VSS}
C {devices/lab_pin.sym} 360 -1290 0 0 {name=p12 sig_type=std_logic lab=VSS}
C {devices/lab_pin.sym} 390 -1320 0 0 {name=p13 sig_type=std_logic lab=VSS}
C {devices/lab_pin.sym} 420 -1350 0 0 {name=p14 sig_type=std_logic lab=VSS}
C {devices/lab_pin.sym} 450 -1380 0 0 {name=p16 sig_type=std_logic lab=VSS}
C {devices/lab_pin.sym} 480 -1410 0 0 {name=p17 sig_type=std_logic lab=VSS}
C {devices/gnd.sym} 850 -1280 2 0 {name=l1 lab=GND}
C {devices/gnd.sym} 820 -1270 2 0 {name=l2 lab=GND}
C {devices/gnd.sym} 790 -1260 2 0 {name=l7 lab=GND}
C {devices/gnd.sym} 760 -1250 2 0 {name=l8 lab=GND}
C {devices/gnd.sym} 730 -1240 2 0 {name=l9 lab=GND}
C {devices/gnd.sym} 700 -1240 2 0 {name=l10 lab=GND}
C {devices/gnd.sym} 670 -1230 2 0 {name=l11 lab=GND}
C {devices/vsource.sym} 300 100 0 1 {name=V22 value="PULSE(1.8 0 42.5n 1p 1p 157.5n 200n)"
}
C {devices/vsource.sym} 330 110 0 1 {name=V23 value="PULSE(1.8 0 65n 1p 1p 135n 200n)"}
C {devices/vsource.sym} 360 130 0 1 {name=V24 value="PULSE(1.8 0 87.5n 1p 1p 112.5n 200n)"}
C {devices/vsource.sym} 390 140 0 1 {name=V25 value="PULSE(1.8 0 110n 1p 1p 90n 200n)"}
C {devices/vsource.sym} 420 150 0 1 {name=V26 value="PULSE(1.8 0 132.5n 1p 1p 67.5n 200n)"}
C {devices/vsource.sym} 450 160 0 1 {name=V27 value="PULSE(1.8 0 155n 1p 1p 45n 200n)"}
C {devices/vsource.sym} 480 170 0 1 {name=V28 value="PULSE(1.8 0 177.5n 1p 1p 22.5n 200n)"}
C {devices/lab_pin.sym} 300 130 2 1 {name=p18 sig_type=std_logic lab=VSS}
C {devices/lab_pin.sym} 330 140 2 1 {name=p19 sig_type=std_logic lab=VSS}
C {devices/lab_pin.sym} 360 160 2 1 {name=p20 sig_type=std_logic lab=VSS}
C {devices/lab_pin.sym} 390 170 2 1 {name=p21 sig_type=std_logic lab=VSS}
C {devices/lab_pin.sym} 420 180 2 1 {name=p22 sig_type=std_logic lab=VSS}
C {devices/lab_pin.sym} 450 190 2 1 {name=p23 sig_type=std_logic lab=VSS}
C {devices/lab_pin.sym} 480 200 2 1 {name=p24 sig_type=std_logic lab=VSS}
C {devices/vsource.sym} 850 150 0 1 {name=V29 value=0}
C {devices/vsource.sym} 820 140 0 1 {name=V30 value=0}
C {devices/vsource.sym} 790 130 0 1 {name=V31 value=0}
C {devices/vsource.sym} 760 120 0 1 {name=V32 value=0}
C {devices/vsource.sym} 730 110 0 1 {name=V33 value=0}
C {devices/vsource.sym} 700 110 0 1 {name=V34 value=0}
C {devices/vsource.sym} 670 100 0 1 {name=V35 value=0}
C {devices/gnd.sym} 850 180 0 1 {name=l12 lab=GND}
C {devices/gnd.sym} 820 170 0 1 {name=l13 lab=GND}
C {devices/gnd.sym} 790 160 0 1 {name=l14 lab=GND}
C {devices/gnd.sym} 760 150 0 1 {name=l15 lab=GND}
C {devices/gnd.sym} 730 140 0 1 {name=l16 lab=GND}
C {devices/gnd.sym} 700 140 0 1 {name=l22 lab=GND}
C {devices/gnd.sym} 670 130 0 1 {name=l24 lab=GND}
C {devices/lab_wire.sym} 300 -915 0 0 {name=p25 sig_type=std_logic lab=up6}
C {devices/lab_wire.sym} 330 -915 0 0 {name=p26 sig_type=std_logic lab=up5}
C {devices/lab_wire.sym} 360 -915 0 0 {name=p27 sig_type=std_logic lab=up4}
C {devices/lab_wire.sym} 390 -915 0 0 {name=p35 sig_type=std_logic lab=up3}
C {devices/lab_wire.sym} 420 -915 0 0 {name=p36 sig_type=std_logic lab=up2}
C {devices/lab_wire.sym} 450 -915 0 0 {name=p37 sig_type=std_logic lab=up1}
C {devices/lab_wire.sym} 480 -915 0 0 {name=p38 sig_type=std_logic lab=up0
}
C {devices/lab_wire.sym} 850 -915 0 1 {name=p46 sig_type=std_logic lab=dn6}
C {devices/lab_wire.sym} 820 -915 0 1 {name=p47 sig_type=std_logic lab=dn5}
C {devices/lab_wire.sym} 790 -915 0 1 {name=p48 sig_type=std_logic lab=dn4}
C {devices/lab_wire.sym} 760 -915 0 1 {name=p49 sig_type=std_logic lab=dn3}
C {devices/lab_wire.sym} 730 -915 0 1 {name=p50 sig_type=std_logic lab=dn2}
C {devices/lab_wire.sym} 700 -915 0 1 {name=p51 sig_type=std_logic lab=dn1}
C {devices/lab_wire.sym} 670 -915 0 1 {name=p52 sig_type=std_logic lab=dn0
}
C {devices/lab_wire.sym} 850 -170 0 1 {name=p53 sig_type=std_logic lab=dnb6}
C {devices/lab_wire.sym} 820 -170 0 1 {name=p54 sig_type=std_logic lab=dnb5}
C {devices/lab_wire.sym} 790 -170 0 1 {name=p55 sig_type=std_logic lab=dnb4}
C {devices/lab_wire.sym} 760 -170 0 1 {name=p56 sig_type=std_logic lab=dnb3}
C {devices/lab_wire.sym} 730 -170 0 1 {name=p57 sig_type=std_logic lab=dnb2}
C {devices/lab_wire.sym} 700 -170 0 1 {name=p58 sig_type=std_logic lab=dnb1}
C {devices/lab_wire.sym} 670 -170 0 1 {name=p59 sig_type=std_logic lab=dnb0
}
C {devices/lab_wire.sym} 300 -170 0 0 {name=p5 sig_type=std_logic lab=upb6}
C {devices/lab_wire.sym} 330 -170 0 0 {name=p6 sig_type=std_logic lab=upb5}
C {devices/lab_wire.sym} 360 -170 0 0 {name=p60 sig_type=std_logic lab=upb4}
C {devices/lab_wire.sym} 390 -170 0 0 {name=p61 sig_type=std_logic lab=upb3}
C {devices/lab_wire.sym} 420 -170 0 0 {name=p62 sig_type=std_logic lab=upb2}
C {devices/lab_wire.sym} 450 -165 0 0 {name=p63 sig_type=std_logic lab=upb1}
C {devices/lab_wire.sym} 480 -165 0 0 {name=p64 sig_type=std_logic lab=upb0}
C {devices/vsource.sym} -300 -440 0 0 {name=V5 value=1.35}
C {devices/gnd.sym} -300 -410 0 0 {name=l23 lab=GND}
C {devices/vsource.sym} -250 -440 0 0 {name=V6 value=0.45}
C {devices/gnd.sym} -250 -410 0 0 {name=l5 lab=GND}
C {devices/lab_wire.sym} 620 -920 0 0 {name=p2 sig_type=std_logic lab=VDD}
C {devices/lab_wire.sym} 620 -195 2 1 {name=p33 sig_type=std_logic lab=VDD}
C {../xschem/hgu_cdac_sw_buffer.sym} 390 -1070 0 0 {name=x6}
C {../xschem/hgu_cdac_sw_buffer.sym} 760 -1070 0 1 {name=x7}
C {../xschem/hgu_cdac_sw_buffer.sym} 390 -30 2 1 {name=x8}
C {../xschem/hgu_cdac_sw_buffer.sym} 760 -30 2 0 {name=x9}
C {devices/vdd.sym} -430 -700 0 0 {name=l47 lab=VGND}
C {devices/gnd.sym} -580 -640 0 0 {name=l48 lab=GND}
C {devices/vsource.sym} -580 -670 0 0 {name=V54 value=1.8}
C {devices/vdd.sym} -530 -700 0 0 {name=l49 lab=VNB}
C {devices/gnd.sym} -530 -640 0 0 {name=l50 lab=GND}
C {devices/vsource.sym} -530 -670 0 0 {name=V55 value=0}
C {devices/vdd.sym} -480 -700 0 0 {name=l51 lab=VPB}
C {devices/gnd.sym} -480 -640 0 0 {name=l52 lab=GND}
C {devices/vsource.sym} -480 -670 0 0 {name=V56 value=1.8}
C {devices/vdd.sym} -580 -700 0 0 {name=l53 lab=VPWR}
C {devices/gnd.sym} -430 -640 0 0 {name=l54 lab=GND}
C {devices/vsource.sym} -430 -670 0 0 {name=V57 value=0}
C {devices/lab_wire.sym} 270 -1060 0 0 {name=p34 sig_type=std_logic lab=VSS}
C {devices/lab_wire.sym} 270 -1080 0 0 {name=p39 sig_type=std_logic lab=VDD}
C {devices/lab_wire.sym} 880 -1080 0 0 {name=p40 sig_type=std_logic lab=VDD}
C {devices/lab_wire.sym} 880 -1060 0 0 {name=p41 sig_type=std_logic lab=VSS}
C {devices/lab_wire.sym} 270 -20 0 0 {name=p42 sig_type=std_logic lab=VDD}
C {devices/lab_wire.sym} 270 -40 0 0 {name=p43 sig_type=std_logic lab=VSS}
C {devices/lab_wire.sym} 880 -40 2 1 {name=p44 sig_type=std_logic lab=VSS}
C {devices/lab_wire.sym} 880 -20 2 1 {name=p45 sig_type=std_logic lab=VDD}
